><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
 
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Peter Myers - Notes">
  <meta name="keywords" content="Blog,Programming">
  <meta name="author" content="Peter Myers">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="../../../CSS/Programming/main.css">
<title>Peter Myers - Notes</title>
<style type="text/css">
span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}
.sc1 {
	color: #008000;
}
.sc2 {
	font-weight: bold;
	color: #0000FF;
}
.sc3 {
	color: #8000FF;
}
.sc5 {
	color: #FF8000;
}
.sc6 {
	color: #808080;
}
.sc8 {
	font-weight: bold;
	color: #000080;
}
.sc9 {
}
</style>
</head>

<body>
<div id="allcontent">

<div class="container">

<div class="page-header">
<h1 id="Logo">Peter Myers - Notes</h1>
</div>

<div class="jumbotron">

<h2><a id="code">Code</a></h2>
<h3><a id="digit_recognizer">Digit Recognizer</a></h3>
<p>
The Digit-Recognizer program will read an image and classify it as one of ten digits (0-9).  This program has a success rate on Kaggle's test dataset of 83.614%.
</p>
<h4>Details</h4>
<ul>
	<li>Kaggle's test dataset has 28000 observations that need to be classified into one of ten possible categories (0-9).</li>
	<li>The program takes an image of 784 pixels (28x28).</li>
	<li>Each pixel ranges from 0 to 255 brightness.</li>
	<li>The Quadratic Discriminant Analysis model fit uses 25 features.</li>
</ul>

<h4>Models submitted</h4>
<ul>
	<li>Linear Discriminant Analysis without cross-validation gave a 79.9% success rate on the test set.</li>
	<li>Quadratic Discriminant Analysis without cross-validation gave a 83.614% success rate on the test set.</li>
</ul>

<h4>Area of improvement for the model</h4>
<ul>
	<li>Use 5-fold cross-validation on the training set.  This would very likely give a better success rate than 83.614%.</li>
	<li>I made a huge mistake in the direction I solved this problem.  <ul>
		<li>I should have standardized the data for dimension reduction like PCA</li>
		<li>Ran PCA and then used KNN.</li>
		<li>It would also be worth testing LDA and QDA.</li>
	</ul></li>
</ul>
</div>

<div style="float: left; white-space: pre; line-height: 1; background: #FFFFFF; "><span class="sc1">#Setup</span><span class="sc0">
</span><span class="sc1"># first run: install.packages("MASS")</span><span class="sc0">
</span><span class="sc1">#            install.packages("ISLR")</span><span class="sc0">
</span><span class="sc1">#            install.packages("ROCR")</span><span class="sc0">
</span><span class="sc3">library</span><span class="sc8">(</span><span class="sc9">MASS</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc3">library</span><span class="sc8">(</span><span class="sc9">ISLR</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc3">library</span><span class="sc8">(</span><span class="sc9">ROCR</span><span class="sc8">)</span><span class="sc0">

</span><span class="sc1">#USE THESE LINES TO SAVE/LOAD DATA FRAMES</span><span class="sc0">
</span><span class="sc1">#save(train,file="DigitRecognition/train.Rda")</span><span class="sc0">
</span><span class="sc1">#load("DigitRecognition/train.Rda")</span><span class="sc0">
</span><span class="sc1">#save(test,file="DigitRecognition/test.Rda")</span><span class="sc0">
</span><span class="sc1">#load("DigitRecognition/test.Rda")</span><span class="sc0">

</span><span class="sc1">#Load table</span><span class="sc0">
</span><span class="sc1">#pixels range from (0 to 783)</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">read.table</span><span class="sc8">(</span><span class="sc6">"DigitRecognition/train.csv"</span><span class="sc0">,</span><span class="sc9">header</span><span class="sc8">=</span><span class="sc2">TRUE</span><span class="sc0">,</span><span class="sc9">sep</span><span class="sc8">=</span><span class="sc6">","</span><span class="sc8">)</span><span class="sc0">



</span><span class="sc1">#Feature ideas:</span><span class="sc0">
</span><span class="sc1">#First find the max height point, lowest point, furthest right, and furthest left</span><span class="sc0">
</span><span class="sc1">#4 helper fields)Use those values 0 to 27 as four features</span><span class="sc0">
</span><span class="sc1">#The new box is the square using the 4 points previously mentioned</span><span class="sc0">
</span><span class="sc1">#Use the new box for all other features</span><span class="sc0">

</span><span class="sc1">#1 feature) % non-black points (value other than 0)</span><span class="sc0">
</span><span class="sc1">#13 more features) is point non-black?  The 13 points are</span><span class="sc0">
</span><span class="sc1">#-   -   -</span><span class="sc0">
</span><span class="sc1">#  -   -</span><span class="sc0">
</span><span class="sc1">#-   -   -</span><span class="sc0">
</span><span class="sc1">#  -   -</span><span class="sc0">
</span><span class="sc1">#-   -   -</span><span class="sc0">
</span><span class="sc1">#NEXT TWO FEATURES: width and height</span><span class="sc0">
</span><span class="sc1">#Last 3 features) How many times does following a path</span><span class="sc0">
</span><span class="sc1">#get you newly white spaces? The three features are created by</span><span class="sc0">
</span><span class="sc1">#using 3 horizontal lines on lines 2-4</span><span class="sc0">
</span><span class="sc1">#using 3 vertical lines on lines 2-4</span><span class="sc0">
</span><span class="sc1">#using a X</span><span class="sc0">
</span><span class="sc1">#You add up the number of points:</span><span class="sc0">
</span><span class="sc1">#If the first point is white then that counts as 1</span><span class="sc0">
</span><span class="sc1">#If it goes from black to white it is 1</span><span class="sc0">
</span><span class="sc1">#If it goes from white to white that is 0</span><span class="sc0">
</span><span class="sc1">#If it goes from black to black that is 0</span><span class="sc0">
</span><span class="sc1">#If it goes from white to black that is 0</span><span class="sc0">

</span><span class="sc1">###First function</span><span class="sc0">
</span><span class="sc1">#Return the row of the first non-black point. (0 to 27)</span><span class="sc0">
</span><span class="sc1">#firstNonBlackRow(train,2000)</span><span class="sc0">
</span><span class="sc9">firstNonBlackRow</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc8">:</span><span class="sc5">785</span><span class="sc0"> </span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
    </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
      </span><span class="sc9">pixelIdx</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">dfCol</span><span class="sc8">-</span><span class="sc5">2</span><span class="sc0">
      </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc0">  </span><span class="sc3">floor</span><span class="sc8">(</span><span class="sc9">pixelIdx</span><span class="sc0"> </span><span class="sc8">/</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">  </span><span class="sc8">)</span><span class="sc0"> 
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1">#Return the row of the last non-black point. (0 to 27)</span><span class="sc0">
</span><span class="sc1">#lastNonBlackRow(train,2000)</span><span class="sc0">
</span><span class="sc9">lastNonBlackRow</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">785</span><span class="sc8">:</span><span class="sc5">2</span><span class="sc0"> </span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
    </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
      </span><span class="sc9">pixelIdx</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">dfCol</span><span class="sc8">-</span><span class="sc5">2</span><span class="sc0">
      </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc0">  </span><span class="sc3">floor</span><span class="sc8">(</span><span class="sc9">pixelIdx</span><span class="sc0"> </span><span class="sc8">/</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">  </span><span class="sc8">)</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1">#Return the column of the first non-black point. (0 to 27)</span><span class="sc0">
</span><span class="sc1">#firstNonBlackColumn(train,2000)</span><span class="sc0">
</span><span class="sc9">firstNonBlackColumn</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">:</span><span class="sc5">27</span><span class="sc8">){</span><span class="sc0">
    </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc5">2</span><span class="sc8">+</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc5">785</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
        </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">
      </span><span class="sc8">}</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1">#Return the column of the last non-black point. (0 to 27)</span><span class="sc0">
</span><span class="sc1">#lastNonBlackColumn(train,2000)</span><span class="sc0">
</span><span class="sc9">lastNonBlackColumn</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">27</span><span class="sc8">:</span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
    </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc5">29</span><span class="sc8">-</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc5">785</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
        </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">
      </span><span class="sc8">}</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1"># Set up the first four features</span><span class="sc0">
</span><span class="sc9">observations</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">dim</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc8">)[</span><span class="sc5">1</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc1">#left</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">firstNonBlackColumn</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#right</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">lastNonBlackColumn</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#top</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">firstNonBlackRow</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#bottom</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">lastNonBlackRow</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1"># FIRST FEATURE:</span><span class="sc0">
</span><span class="sc1"># This loop will go through all points of the new box</span><span class="sc0">
</span><span class="sc1"># the new box contains anything between left, right, top, bottom</span><span class="sc0">
</span><span class="sc1"># These values can be found in the dataframe's 786 to 789 columns</span><span class="sc0">
</span><span class="sc1"># To keep it from getting too messy they are passed as parameters.</span><span class="sc0">
</span><span class="sc9">pctNonBlackBoxes</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc0">, </span><span class="sc9">left</span><span class="sc0">, </span><span class="sc9">right</span><span class="sc0">, </span><span class="sc9">top</span><span class="sc0">, </span><span class="sc9">bottom</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">nonBlackBoxes</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc0">
  </span><span class="sc9">totalBoxes</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc5">1</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">bottom</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc0"> </span><span class="sc9">top</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc5">1</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">right</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc0"> </span><span class="sc9">left</span><span class="sc8">)</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc9">left</span><span class="sc8">:</span><span class="sc9">right</span><span class="sc8">){</span><span class="sc0">
    </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc5">28</span><span class="sc8">*</span><span class="sc9">top</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc8">+</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">*</span><span class="sc9">bottom</span><span class="sc8">+</span><span class="sc5">1</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
        </span><span class="sc9">nonBlackBoxes</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">nonBlackBoxes</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0">
      </span><span class="sc8">}</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">nonBlackBoxes</span><span class="sc8">/</span><span class="sc9">totalBoxes</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#Adding the feature using the function</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxes</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">


</span><span class="sc1">#13 More features based on one pixel being nonBlack or black</span><span class="sc0">
</span><span class="sc1">#The pixels are inside the new box defined by top, bottom, left, and right</span><span class="sc0">
</span><span class="sc1">#These are the pixel locations</span><span class="sc0">
</span><span class="sc1">#  m m m       -&gt; midCOl1, midCol2, midCol3</span><span class="sc0">
</span><span class="sc1">#-   -   - top</span><span class="sc0">
</span><span class="sc1">#  -   -   midRow1</span><span class="sc0">
</span><span class="sc1">#-   -   - midRow2</span><span class="sc0">
</span><span class="sc1">#  -   -   midRow3</span><span class="sc0">
</span><span class="sc1">#-   -   - bottom</span><span class="sc0">

</span><span class="sc1">#First we find the middle midRow1, midRow2, midRow3, midCol1, midCol2, midCol3 for each observation</span><span class="sc0">
</span><span class="sc1">#FIND THE MIDPOINT OF START AND END (ie. left &amp; right or top &amp; bottom)</span><span class="sc0">
</span><span class="sc1">#THEN FIND THE MIDPOINT OF THAT MIDPOINT AND A SIDE (ie. midpoint &amp; left)</span><span class="sc0">
</span><span class="sc9">findMidpoint</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc0">, </span><span class="sc3">start</span><span class="sc0">, </span><span class="sc3">end</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc3">floor</span><span class="sc8">(</span><span class="sc5">0.5</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">start</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc3">end</span><span class="sc8">)))</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#ADDING THE MID ROWS:</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow1</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow3</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#ADDING THE MID COLUMNS:</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol1</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol3</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1">#Determine if these 13 points are nonBlack.  The 13 new features are true or false (1 or 0)</span><span class="sc0">
</span><span class="sc1">#pointOfInterest1IsNonBlack, pointOfInterest2IsNonBlack, pointOfInterest3IsNonBlack, ... pointOfInterest13IsNonBlack. </span><span class="sc0">
</span><span class="sc1">#-   -   - </span><span class="sc0">
</span><span class="sc1">#  -   -   </span><span class="sc0">
</span><span class="sc1">#-   -   - </span><span class="sc0">
</span><span class="sc1">#  -   -   </span><span class="sc0">
</span><span class="sc1">#-   -   - </span><span class="sc0">
</span><span class="sc9">pointIsNonBlackColor</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc0">, </span><span class="sc3">row</span><span class="sc0">, </span><span class="sc3">col</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">pixel</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">col</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc3">row</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0">
  </span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pixel</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc0">  </span><span class="sc1">#the column this pixel is stored.</span><span class="sc0">
  </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
    </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc5">1</span><span class="sc8">)</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc2">else</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
    </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc5">0</span><span class="sc8">)</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#13 Points of interest</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest1IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest1IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest2IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest2IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest3IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest3IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest4IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest4IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest5IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest5IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest6IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest6IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest7IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest7IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest8IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest8IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest9IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest9IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest10IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest10IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest11IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest11IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest12IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest12IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest13IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pointOfInterest13IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1">#NEXT 2 FEATURES, WIDTH AND HEIGHT</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">width</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">width</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc0"> </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">height</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">height</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc0"> </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1">#LAST 3 FEATURES</span><span class="sc0">
</span><span class="sc1">#How many times does following a path</span><span class="sc0">
</span><span class="sc1">#get you newly white spaces? The three features are created by</span><span class="sc0">
</span><span class="sc1">#using 3 horizontal lines on lines 2-4</span><span class="sc0">
</span><span class="sc1">#using 3 vertical lines on lines 2-4</span><span class="sc0">
</span><span class="sc1">#using a X</span><span class="sc0">
</span><span class="sc9">generateListOfDFColsOnPath3HorizontalLines</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc9">midRow1</span><span class="sc0">, </span><span class="sc9">midRow2</span><span class="sc0">, </span><span class="sc9">midRow3</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">c</span><span class="sc8">(</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midRow1</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0">, </span><span class="sc5">27</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">midRow1</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">,
               </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midRow2</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0">, </span><span class="sc5">27</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">midRow2</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">,
               </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midRow3</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0">, </span><span class="sc5">27</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">midRow3</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc8">))</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc0"> </span><span class="sc1">#the column this pixel is stored.</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">generateListOfDFColsOnPath3VerticalLines</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc9">midCol1</span><span class="sc0">, </span><span class="sc9">midCol2</span><span class="sc0">, </span><span class="sc9">midCol3</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">c</span><span class="sc8">(</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midCol1</span><span class="sc0">,</span><span class="sc5">783</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">,
               </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midCol2</span><span class="sc0">,</span><span class="sc5">783</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">,
               </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midCol3</span><span class="sc0">,</span><span class="sc5">783</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">))</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc0"> </span><span class="sc1">#the column this pixel is stored.</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#This function uses a slope of magnitude 1 and starts at the bottom left </span><span class="sc0">
</span><span class="sc1"># and goes up-right and starts top left and goes down-right</span><span class="sc0">
</span><span class="sc1"># The cross stops before row 0 (at row 1) for the upward cross line</span><span class="sc0">
</span><span class="sc9">generateListOfDFColsOnPathCrossX</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc9">bottom</span><span class="sc0">, </span><span class="sc9">left</span><span class="sc0">, </span><span class="sc9">top</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">c</span><span class="sc8">(</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">bottom</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">left</span><span class="sc0">, </span><span class="sc5">28</span><span class="sc0">, </span><span class="sc8">-</span><span class="sc5">27</span><span class="sc8">)</span><span class="sc0">,
               </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">top</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">left</span><span class="sc0">, </span><span class="sc5">783</span><span class="sc0">, </span><span class="sc5">29</span><span class="sc8">))</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc0"> </span><span class="sc1">#the column this pixel is stored.</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1">#Find the count of when the path enters a nonblack pixel, when the previous </span><span class="sc0">
</span><span class="sc1">#pixel was black.</span><span class="sc0">
</span><span class="sc1">#dfCols is generated by the 3 functions above.  It is an array of the column</span><span class="sc0">
</span><span class="sc1">#locations of the pixels.</span><span class="sc0">
</span><span class="sc9">countNewlyNonBlacksOnPath</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc0">, </span><span class="sc9">dfCols</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">count</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc0">
  </span><span class="sc9">lastPixelBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0"> </span><span class="sc1">#set as true initially</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">pixelValue</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCols</span><span class="sc8">])</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
    </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">pixelValue</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc0"> </span><span class="sc8">&amp;&amp;</span><span class="sc0"> </span><span class="sc9">lastPixelBlack</span><span class="sc0"> </span><span class="sc8">==</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc9">count</span><span class="sc0"> </span><span class="sc8">=</span><span class="sc0"> </span><span class="sc9">count</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0"> 
    </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">pixelValue</span><span class="sc0"> </span><span class="sc8">==</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc9">lastPixelBlack</span><span class="sc0"> </span><span class="sc8">=</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0"> </span><span class="sc2">else</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc9">lastPixelBlack</span><span class="sc0"> </span><span class="sc8">=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">count</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">##THE LAST 3 FEATURES ARE ADDED</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOn3HorizontalLinesPath</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">generateListOfDFColsOnPath3HorizontalLines</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOn3HorizontalLinesPath</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">countNewlyNonBlacksOnPath</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOn3VerticalLinesPath</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">generateListOfDFColsOnPath3VerticalLines</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOn3VerticalLinesPath</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">countNewlyNonBlacksOnPath</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOnCrossXPath</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">generateListOfDFColsOnPathCrossX</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOnCrossXPath</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">countNewlyNonBlacksOnPath</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1">#Adding the feature using the function</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesTopHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesTopHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesBottomHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesBottomHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesLeftHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesLeftHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesRightHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesRightHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesTopHalfDividedByBottomHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesTopHalfDividedByBottomHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesTopHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">/</span><span class="sc0"> </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesBottomHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesLeftHalfDividedByRightHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesLeftHalfDividedByRightHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesLeftHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">/</span><span class="sc0"> </span><span class="sc9">train</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesRightHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1">### SAVED OBJECT HERE #############################</span><span class="sc0">

</span><span class="sc1">####FEATURES READY:</span><span class="sc0">
</span><span class="sc1">#pctNonBlackBoxes</span><span class="sc0">
</span><span class="sc1">#pointOfInterest1IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest2IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest3IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest4IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest5IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest6IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest7IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest8IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest9IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest10IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest11IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest12IsNonBlack</span><span class="sc0">
</span><span class="sc1">#pointOfInterest13IsNonBlack</span><span class="sc0">
</span><span class="sc1">#width</span><span class="sc0">
</span><span class="sc1">#height</span><span class="sc0">
</span><span class="sc1">#countNewlyNonBlackOn3HorizontalLinesPath</span><span class="sc0">
</span><span class="sc1">#countNewlyNonBlackOn3VerticalLinesPath</span><span class="sc0">
</span><span class="sc1">#countNewlyNonBlackOnCrossXPath</span><span class="sc0">
</span><span class="sc1">#pctNonBlackBoxesTopHalf</span><span class="sc0">
</span><span class="sc1">#pctNonBlackBoxesBottomHalf</span><span class="sc0">
</span><span class="sc1">#pctNonBlackBoxesLeftHalf</span><span class="sc0">
</span><span class="sc1">#pctNonBlackBoxesRightHalf</span><span class="sc0">
</span><span class="sc1">#pctNonBlackBoxesTopHalfDividedByBottomHalf</span><span class="sc0">
</span><span class="sc1">#pctNonBlackBoxesLeftHalfDividedByRightHalf</span><span class="sc0">


</span><span class="sc1">###########ALL FUNCTIONS IN ONE PLACE (BELOW)</span><span class="sc0">
</span><span class="sc1">#### THESE FUNCTIONS ARE FOUND ABOVE AS WELL</span><span class="sc0">
</span><span class="sc9">firstNonBlackRow</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc8">:</span><span class="sc5">785</span><span class="sc0"> </span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
    </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
      </span><span class="sc9">pixelIdx</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">dfCol</span><span class="sc8">-</span><span class="sc5">2</span><span class="sc0">
      </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc0">  </span><span class="sc3">floor</span><span class="sc8">(</span><span class="sc9">pixelIdx</span><span class="sc0"> </span><span class="sc8">/</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">  </span><span class="sc8">)</span><span class="sc0"> 
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">lastNonBlackRow</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">785</span><span class="sc8">:</span><span class="sc5">2</span><span class="sc0"> </span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
    </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
      </span><span class="sc9">pixelIdx</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">dfCol</span><span class="sc8">-</span><span class="sc5">2</span><span class="sc0">
      </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc0">  </span><span class="sc3">floor</span><span class="sc8">(</span><span class="sc9">pixelIdx</span><span class="sc0"> </span><span class="sc8">/</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">  </span><span class="sc8">)</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">firstNonBlackColumn</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">:</span><span class="sc5">27</span><span class="sc8">){</span><span class="sc0">
    </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc5">2</span><span class="sc8">+</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc5">785</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
        </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">
      </span><span class="sc8">}</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">lastNonBlackColumn</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">27</span><span class="sc8">:</span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
    </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc5">29</span><span class="sc8">-</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc5">785</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
        </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">
      </span><span class="sc8">}</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">pctNonBlackBoxes</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc0">, </span><span class="sc9">left</span><span class="sc0">, </span><span class="sc9">right</span><span class="sc0">, </span><span class="sc9">top</span><span class="sc0">, </span><span class="sc9">bottom</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">nonBlackBoxes</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc0">
  </span><span class="sc9">totalBoxes</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc5">1</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">bottom</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc0"> </span><span class="sc9">top</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc5">1</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">right</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc0"> </span><span class="sc9">left</span><span class="sc8">)</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc9">left</span><span class="sc8">:</span><span class="sc9">right</span><span class="sc8">){</span><span class="sc0">
    </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc5">28</span><span class="sc8">*</span><span class="sc9">top</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc8">+</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">*</span><span class="sc9">bottom</span><span class="sc8">+</span><span class="sc5">1</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">){</span><span class="sc0">
        </span><span class="sc9">nonBlackBoxes</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">nonBlackBoxes</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0">
      </span><span class="sc8">}</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">nonBlackBoxes</span><span class="sc8">/</span><span class="sc9">totalBoxes</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">findMidpoint</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc0">, </span><span class="sc3">start</span><span class="sc0">, </span><span class="sc3">end</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc3">floor</span><span class="sc8">(</span><span class="sc5">0.5</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">start</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc3">end</span><span class="sc8">)))</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">pointIsNonBlackColor</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc0">, </span><span class="sc3">row</span><span class="sc0">, </span><span class="sc3">col</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">pixel</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">col</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc3">row</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0">
  </span><span class="sc9">dfCol</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pixel</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc0">  </span><span class="sc1">#the column this pixel is stored.</span><span class="sc0">
  </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCol</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
    </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc5">1</span><span class="sc8">)</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc2">else</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
    </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc5">0</span><span class="sc8">)</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">generateListOfDFColsOnPath3HorizontalLines</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc9">midRow1</span><span class="sc0">, </span><span class="sc9">midRow2</span><span class="sc0">, </span><span class="sc9">midRow3</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">c</span><span class="sc8">(</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midRow1</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0">, </span><span class="sc5">27</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">midRow1</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">,
               </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midRow2</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0">, </span><span class="sc5">27</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">midRow2</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">,
               </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midRow3</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0">, </span><span class="sc5">27</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">midRow3</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc8">))</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc0"> </span><span class="sc1">#the column this pixel is stored.</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">generateListOfDFColsOnPath3VerticalLines</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc9">midCol1</span><span class="sc0">, </span><span class="sc9">midCol2</span><span class="sc0">, </span><span class="sc9">midCol3</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">c</span><span class="sc8">(</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midCol1</span><span class="sc0">,</span><span class="sc5">783</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">,
               </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midCol2</span><span class="sc0">,</span><span class="sc5">783</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">)</span><span class="sc0">,
               </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">midCol3</span><span class="sc0">,</span><span class="sc5">783</span><span class="sc0">,</span><span class="sc5">28</span><span class="sc8">))</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc0"> </span><span class="sc1">#the column this pixel is stored.</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">generateListOfDFColsOnPathCrossX</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc9">bottom</span><span class="sc0">, </span><span class="sc9">left</span><span class="sc0">, </span><span class="sc9">top</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">c</span><span class="sc8">(</span><span class="sc0"> </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">bottom</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">left</span><span class="sc0">, </span><span class="sc5">28</span><span class="sc0">, </span><span class="sc8">-</span><span class="sc5">27</span><span class="sc8">)</span><span class="sc0">,
               </span><span class="sc3">seq</span><span class="sc8">(</span><span class="sc9">top</span><span class="sc0"> </span><span class="sc8">*</span><span class="sc0"> </span><span class="sc5">28</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">left</span><span class="sc0">, </span><span class="sc5">783</span><span class="sc0">, </span><span class="sc5">29</span><span class="sc8">))</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pixels</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">2</span><span class="sc0"> </span><span class="sc1">#the column this pixel is stored.</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">countNewlyNonBlacksOnPath</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc2">function</span><span class="sc8">(</span><span class="sc3">df</span><span class="sc0">, </span><span class="sc9">observation</span><span class="sc0">, </span><span class="sc9">dfCols</span><span class="sc8">){</span><span class="sc0">
  </span><span class="sc9">count</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc0">
  </span><span class="sc9">lastPixelBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0"> </span><span class="sc1">#set as true initially</span><span class="sc0">
  </span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">pixelValue</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc3">df</span><span class="sc8">[</span><span class="sc9">observation</span><span class="sc0">,</span><span class="sc9">dfCols</span><span class="sc8">])</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
    </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">pixelValue</span><span class="sc0"> </span><span class="sc8">!=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc0"> </span><span class="sc8">&amp;&amp;</span><span class="sc0"> </span><span class="sc9">lastPixelBlack</span><span class="sc0"> </span><span class="sc8">==</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc9">count</span><span class="sc0"> </span><span class="sc8">=</span><span class="sc0"> </span><span class="sc9">count</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0"> 
    </span><span class="sc2">if</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">pixelValue</span><span class="sc0"> </span><span class="sc8">==</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc9">lastPixelBlack</span><span class="sc0"> </span><span class="sc8">=</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0"> </span><span class="sc2">else</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
      </span><span class="sc9">lastPixelBlack</span><span class="sc0"> </span><span class="sc8">=</span><span class="sc0"> </span><span class="sc5">0</span><span class="sc0">
    </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc8">}</span><span class="sc0">
  </span><span class="sc3">return</span><span class="sc8">(</span><span class="sc9">count</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">###########ALL FUNCTIONS IN ONE PLACE (ABOVE)</span><span class="sc0">

</span><span class="sc1">####LDA#############</span><span class="sc0">
</span><span class="sc1">#Can try QDA next after getting test error on the website</span><span class="sc0">

</span><span class="sc1">#### INITIAL FIT</span><span class="sc0">
</span><span class="sc9">lda.fit</span><span class="sc8">=</span><span class="sc9">lda</span><span class="sc8">(</span><span class="sc9">label</span><span class="sc0"> </span><span class="sc8">~</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest1IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest2IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pointOfInterest3IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest4IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest5IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pointOfInterest6IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest7IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest8IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pointOfInterest9IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest10IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest11IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pointOfInterest12IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest13IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">width</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">height</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">countNewlyNonBlackOn3HorizontalLinesPath</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">countNewlyNonBlackOn3VerticalLinesPath</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">countNewlyNonBlackOnCrossXPath</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxesTopHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxesBottomHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pctNonBlackBoxesLeftHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxesRightHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pctNonBlackBoxesTopHalfDividedByBottomHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pctNonBlackBoxesLeftHalfDividedByRightHalf</span><span class="sc0">,</span><span class="sc3">data</span><span class="sc8">=</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">CV</span><span class="sc8">=</span><span class="sc2">FALSE</span><span class="sc8">)</span><span class="sc0">

</span><span class="sc9">qda.fit</span><span class="sc8">=</span><span class="sc9">qda</span><span class="sc8">(</span><span class="sc9">label</span><span class="sc0"> </span><span class="sc8">~</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest1IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest2IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pointOfInterest3IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest4IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest5IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pointOfInterest6IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest7IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest8IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pointOfInterest9IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest10IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest11IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pointOfInterest12IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest13IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">width</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">height</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">countNewlyNonBlackOn3HorizontalLinesPath</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">countNewlyNonBlackOn3VerticalLinesPath</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">countNewlyNonBlackOnCrossXPath</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxesTopHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxesBottomHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pctNonBlackBoxesLeftHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxesRightHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pctNonBlackBoxesTopHalfDividedByBottomHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
              </span><span class="sc9">pctNonBlackBoxesLeftHalfDividedByRightHalf</span><span class="sc0">,</span><span class="sc3">data</span><span class="sc8">=</span><span class="sc9">train</span><span class="sc0">,</span><span class="sc9">CV</span><span class="sc8">=</span><span class="sc2">FALSE</span><span class="sc8">)</span><span class="sc0">

</span><span class="sc1">#GET TEST DATA READY BY LOADING FEATURES</span><span class="sc0">
</span><span class="sc9">temp</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">read.table</span><span class="sc8">(</span><span class="sc6">"DigitRecognition/test.csv"</span><span class="sc0">,</span><span class="sc9">header</span><span class="sc8">=</span><span class="sc2">TRUE</span><span class="sc0">,</span><span class="sc9">sep</span><span class="sc8">=</span><span class="sc6">","</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc0"> </span><span class="sc8">=</span><span class="sc0"> </span><span class="sc9">data.frame</span><span class="sc8">(</span><span class="sc5">0</span><span class="sc0">,</span><span class="sc9">temp</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc1">## The feature building requires a column in the first location</span><span class="sc0">
</span><span class="sc1">###########GET ALL FEATURES FOR TEST SET (BELOW)</span><span class="sc0">
</span><span class="sc1"># Set up the first four features</span><span class="sc0">
</span><span class="sc9">observations</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">dim</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc8">)[</span><span class="sc5">1</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc1">#left</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">firstNonBlackColumn</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#right</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">lastNonBlackColumn</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#top</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">firstNonBlackRow</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#bottom</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">lastNonBlackRow</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc8">)</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#Adding the feature using the function</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxes</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#ADDING THE MID ROWS:</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow1</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow3</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#ADDING THE MID COLUMNS:</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol1</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol3</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">findMidpoint</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">,</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc1">#13 Points of interest</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest1IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest1IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest2IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest2IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest3IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest3IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest4IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest4IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest5IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest5IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest6IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest6IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest7IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest7IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest8IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest8IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest9IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest9IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest10IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest10IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest11IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest11IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest12IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest12IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest13IsNonBlack</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pointOfInterest13IsNonBlack</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pointIsNonBlackColor</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">width</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">width</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc0"> </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">height</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">height</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc0"> </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOn3HorizontalLinesPath</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">generateListOfDFColsOnPath3HorizontalLines</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOn3HorizontalLinesPath</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">countNewlyNonBlacksOnPath</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOn3VerticalLinesPath</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">generateListOfDFColsOnPath3VerticalLines</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol1</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol3</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOn3VerticalLinesPath</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">countNewlyNonBlacksOnPath</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOnCrossXPath</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">dfCols</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">generateListOfDFColsOnPathCrossX</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">countNewlyNonBlackOnCrossXPath</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">countNewlyNonBlacksOnPath</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">, </span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">dfCols</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesTopHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesTopHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesBottomHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesBottomHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midRow2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesLeftHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesLeftHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">left</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesRightHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesRightHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc8">(</span><span class="sc9">test</span><span class="sc0">,</span><span class="sc9">i</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">midCol2</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">right</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">top</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">bottom</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">])</span><span class="sc0">  
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesTopHalfDividedByBottomHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesTopHalfDividedByBottomHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesTopHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">/</span><span class="sc0"> </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesBottomHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">
</span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesLeftHalfDividedByRightHalf</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc8">-</span><span class="sc5">1</span><span class="sc0">
</span><span class="sc2">for</span><span class="sc0"> </span><span class="sc8">(</span><span class="sc9">i</span><span class="sc0"> </span><span class="sc2">in</span><span class="sc0"> </span><span class="sc5">1</span><span class="sc8">:</span><span class="sc9">observations</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">{</span><span class="sc0">
  </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesLeftHalfDividedByRightHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesLeftHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0"> </span><span class="sc8">/</span><span class="sc0"> </span><span class="sc9">test</span><span class="sc8">$</span><span class="sc9">pctNonBlackBoxesRightHalf</span><span class="sc8">[</span><span class="sc9">i</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc8">}</span><span class="sc0">

</span><span class="sc1">###########GET ALL FEATURES FOR TEST SET (ABOVE)</span><span class="sc0">

</span><span class="sc9">lda.pred</span><span class="sc8">=</span><span class="sc3">predict</span><span class="sc8">(</span><span class="sc9">lda.fit</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc9">lda.class</span><span class="sc8">=</span><span class="sc9">lda.pred</span><span class="sc8">$</span><span class="sc3">class</span><span class="sc0">
</span><span class="sc9">output</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">data.frame</span><span class="sc8">(</span><span class="sc5">1</span><span class="sc8">:</span><span class="sc5">28000</span><span class="sc0">,</span><span class="sc9">lda.class</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc3">names</span><span class="sc8">(</span><span class="sc9">output</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">c</span><span class="sc8">(</span><span class="sc6">"ImageId"</span><span class="sc0">,</span><span class="sc6">"Label"</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc9">write.table</span><span class="sc8">(</span><span class="sc9">output</span><span class="sc0">, </span><span class="sc3">file</span><span class="sc8">=</span><span class="sc6">"DigitRecognition/submission.csv"</span><span class="sc0">,</span><span class="sc9">sep</span><span class="sc8">=</span><span class="sc6">","</span><span class="sc0">, </span><span class="sc9">row.names</span><span class="sc8">=</span><span class="sc2">TRUE</span><span class="sc0">, </span><span class="sc9">col.names</span><span class="sc8">=</span><span class="sc2">FALSE</span><span class="sc8">)</span><span class="sc0">

</span><span class="sc9">qda.pred</span><span class="sc8">=</span><span class="sc3">predict</span><span class="sc8">(</span><span class="sc9">qda.fit</span><span class="sc0">, </span><span class="sc9">test</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc9">qda.class</span><span class="sc8">=</span><span class="sc9">qda.pred</span><span class="sc8">$</span><span class="sc3">class</span><span class="sc0">
</span><span class="sc9">output2</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc9">data.frame</span><span class="sc8">(</span><span class="sc5">1</span><span class="sc8">:</span><span class="sc5">28000</span><span class="sc0">,</span><span class="sc9">qda.class</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc3">names</span><span class="sc8">(</span><span class="sc9">output2</span><span class="sc8">)</span><span class="sc0"> </span><span class="sc8">&lt;-</span><span class="sc0"> </span><span class="sc3">c</span><span class="sc8">(</span><span class="sc6">"ImageId"</span><span class="sc0">,</span><span class="sc6">"Label"</span><span class="sc8">)</span><span class="sc0">
</span><span class="sc9">write.table</span><span class="sc8">(</span><span class="sc9">output2</span><span class="sc0">, </span><span class="sc3">file</span><span class="sc8">=</span><span class="sc6">"DigitRecognition/submission2.csv"</span><span class="sc0">,</span><span class="sc9">sep</span><span class="sc8">=</span><span class="sc6">","</span><span class="sc0">, </span><span class="sc9">row.names</span><span class="sc8">=</span><span class="sc2">TRUE</span><span class="sc0">, </span><span class="sc9">col.names</span><span class="sc8">=</span><span class="sc2">FALSE</span><span class="sc8">)</span><span class="sc0">

</span><span class="sc1">#####IMPROVEMENTS: Use CV and reduce feature count</span><span class="sc0">
</span><span class="sc1">######USING CROSS VALIDATION</span><span class="sc0">

</span><span class="sc9">idx</span><span class="sc8">=</span><span class="sc3">sample</span><span class="sc8">(</span><span class="sc5">1</span><span class="sc8">:</span><span class="sc3">nrow</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc8">)</span><span class="sc0">,</span><span class="sc5">0.8</span><span class="sc8">*</span><span class="sc3">nrow</span><span class="sc8">(</span><span class="sc9">train</span><span class="sc8">))</span><span class="sc0">
</span><span class="sc9">cv.train</span><span class="sc8">=</span><span class="sc9">train</span><span class="sc8">[</span><span class="sc9">idx</span><span class="sc0">,</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc9">cv.test</span><span class="sc8">=</span><span class="sc9">train</span><span class="sc8">[-</span><span class="sc9">idx</span><span class="sc0">,</span><span class="sc8">]</span><span class="sc0">
</span><span class="sc9">cv.qda.fit</span><span class="sc0"> </span><span class="sc8">=</span><span class="sc0"> </span><span class="sc9">qda</span><span class="sc8">(</span><span class="sc9">label</span><span class="sc0"> </span><span class="sc8">~</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxes</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest1IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest2IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
                    </span><span class="sc9">pointOfInterest3IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest4IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest5IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
                    </span><span class="sc9">pointOfInterest6IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest7IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest8IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
                    </span><span class="sc9">pointOfInterest9IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest10IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest11IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
                    </span><span class="sc9">pointOfInterest12IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pointOfInterest13IsNonBlack</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">width</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">height</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
                    </span><span class="sc9">countNewlyNonBlackOn3HorizontalLinesPath</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">countNewlyNonBlackOn3VerticalLinesPath</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
                    </span><span class="sc9">countNewlyNonBlackOnCrossXPath</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxesTopHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxesBottomHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
                    </span><span class="sc9">pctNonBlackBoxesLeftHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0"> </span><span class="sc9">pctNonBlackBoxesRightHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
                    </span><span class="sc9">pctNonBlackBoxesTopHalfDividedByBottomHalf</span><span class="sc0"> </span><span class="sc8">+</span><span class="sc0">
                    </span><span class="sc9">pctNonBlackBoxesLeftHalfDividedByRightHalf</span><span class="sc0">,</span><span class="sc3">data</span><span class="sc8">=</span><span class="sc9">cv.train</span><span class="sc8">)</span><span class="sc0">

</span><span class="sc9">cv.preds</span><span class="sc8">=</span><span class="sc3">predict</span><span class="sc8">(</span><span class="sc9">cv.qda.fit</span><span class="sc0">, </span><span class="sc9">cv.test</span><span class="sc8">)$</span><span class="sc3">class</span><span class="sc0">
</span><span class="sc9">actual</span><span class="sc8">=</span><span class="sc9">cv.test</span><span class="sc8">$</span><span class="sc9">label</span><span class="sc0">
</span><span class="sc3">mean</span><span class="sc8">(</span><span class="sc9">actual</span><span class="sc8">==</span><span class="sc9">cv.preds</span><span class="sc8">)</span></div>


</div></div>

<div id="footer">
© 2017
</div></body>
</html>
